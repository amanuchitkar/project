import { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import Audio1 from '../assets/audio/Page9.mp3';

function Page9() {
  // Define the page data, which includes multiple images
  const pageData = {
    title: 'मुरूड-जंजिरा',
    description: '',
    images: [
      'https://alibagtourism.com/wp-content/uploads/2023/02/Murud-Janjira-Fort.jpg',  // Add more images as needed
      'https://static.toiimg.com/thumb/104630597/Murud-Janjira-Fort.jpg',  // Add more images as needed
      'https://static.toiimg.com/thumb/104630597/Murud-Janjira-Fort.jpg',  // Add more images as needed
    ],
    audioUrl: Audio1,
    fullInfo: `रायगड जिल्ह्यातील मुरुड-जंजिरा हा एक अभेद्य किल्ला आहे. याचे खरे नाव जजीरे मेहरुब असे असून, जंजीरा म्हणजे पाण्यानी वेढलेले बेट व मेहरुब म्हणजे चंद्रकोर. चारी बाजूंनी अरबी समुद्रने घेरलेला आहे. रायगड जिल्ह्याच्या पश्चिमेला अरबी समुद्र आहे. या समुद्राला लागूनच मुरुड तालुक्यातील मुरुड नावाचे गाव आहे. मुरुडच्यापुढे दंडा आणि राजपुरी ही गावे समुद्रकिनारी आहेत. मुरुडपासून राजपुरी चार पाच किलोमीटर अंतरावर आहे. हे गाव खाडीच्या किनाऱ्यावर आहे. या राजपुरी गावाच्या पश्चिमेला समुद्रात एका बेटावर मुरुड-जंजिरा आहे. राजपुरीहून या किल्ल्यावर जाण्यासाठी शिडाच्या होड्यांची सोय आहे.

जंजिराचा अर्थ समुद्राने वेढलेला किल्ला. भक्कम बांधकाम आणि आजूबाजूला समुद्र, याशिवाय मुरुड-जंजिराच्या तटावर ५७२ तोफा आहेत. त्यामुळेच हा जंजिरा अभेद्य होता. या तोफांमध्ये विशेष मोठी आणि लांब पल्ल्याची कलाल बांगडी ही तोफ होती. शिवाजी महाराजांच्या काळात महाराष्ट्राच्या स्वराज्यासाठी हा जंजिरा शेवटपर्यंत अजेय राहिला.

जंजिरा हा शब्द अरबी भाषेतून आपल्याकडे रुढ झालेला आहे. अरबी भाषेतील जझीरा या शब्दावरून तो आलेला आहे. जझीरा म्हणजे बेट. या बेटावर पूर्वी एक मेढेकोट होता. त्यावेळी राजपुरीला मुख्यतः कोळी लोकांची वस्ती होती. या कोळ्यांना लुटारू आणि चाचे लोकांचा नेहेमीच उपद्रव होत असे. तेव्हा या चाच्यांना प्रतिबंध करण्यासाठी या बेटावर मेढेकोट उभारण्यात आला. मेढेकोट म्हणजे लाकडाचे मोठाले ओंडके एका शेजारी एक रोवून तयार केलेली तटबंदी. या तटबंदीमध्ये कोळी लोक सुरक्षितपणे रहात असत. त्यावेळी त्यांचा प्रमुख होता राम पाटील. हा मेढेकोट बांधण्यासाठी त्यावेळी निजामी ठाणेदाराची परवानगी घ्यावी लागली होती. मेढेकोटाची सुरक्षितता लाभताच राम पाटील त्या ठाणेदाराला जुमानेसा झाला. त्यामुळे ठाणेदाराने त्याचा बंदोबस्त करण्यासाठी पिरमखानाची नेमणूक केली.

रामा पाटील आपल्याला मेढेकोटाच्या जवळही फिरकू देणार नाही, याची कल्पना पिरमरखानाला होती. तो अतिशय चतुर होता. त्याने आपण दारूचे व्यापारी आहोत, असे भासवून आपली गलबते खाडीत नांगरली. राम पाटीलाशी स्नेह राहावा म्हणून दारूची काही पिंपे त्याने भेट म्हणून पाठवली. त्यामुळे राम पाटील खूष झाला. पिरमखानाने मेढेकोट पाहण्याची इच्छा व्यक्त केली. पिरमखान मेढेकोटात गेला. रात्री सर्व कोळी दारू पिऊन झिंगले असताना पिरमखानाने बाकीच्या गलबतांमधून असलेले सैन्य तेथे उतरवून सर्वांची कत्तल करून मेढेकोट ताब्यात घेतला.

पुढे पिरमखानाच्या जागी बुऱ्हाणखानाची नेमणूक झाली. त्याने तेथे भक्कम किल्ला बांधण्याची परवानगी निजामाकडून मिळवली. सध्याचे जे बांधकाम आहे ते या बुऱ्हाणखानाने बांधलेले आहे. पुढे इ.स.१६१७ मध्ये सिद्दी अंबर याने बादशहाकडून स्वतंत्र सनद मिळवून जहागिरी प्राप्त केली. जंजिरा संस्थानचा हा मूळ पुरुष समजला जातो. जंजिऱ्याचे सिद्दी हे मूळचे अबिसीनियामधील असून, हे दर्यावर्दी शूर, काटक व दणकट होते. त्यांनी प्राणपणाने जंजिरा लढवला. अनेकांनी जंजिरा जिंकण्याचा प्रयत्‍न केला. पण तो यशस्वी होऊ शकला नाही. छत्रपती शिवाजी राजांनाही जंजिऱ्यावर स्वामित्व मिळवता आले नाही. इ.स.१६१७ ते इ.स 1734 अशी 117 वर्षे जंजिरा अंजिक्य राहिला. पुढे बाजीराव पेशव्यांचे बंधू चिमजीआप्पा यांनी जंजिरा हा स्वराज्यात आणला .जंजिऱ्याचे प्रवेशद्वार पूर्भमुख आहे. होडीने किल्ल्याच्या प्रवेशद्वारापर्यंत पोहोचल्यावर, या प्रवेशद्वाराच्या आत एक उपदार आहे. प्रवेशद्वाराजवळ एक शिल्प आहे. बुऱ्हाणखानाची दर्पोक्तीच या चित्रातून दिसून येते. एका वाघाने चारही पायात चार हत्ती पकडले आहेत व शेपटीत एक हत्ती गुंडाळला आहे, असे ते चित्र आहे. बुऱ्हाणखान इतर सत्ताधीशांना सुचवतो आहे की, "तुम्ही हत्ती असाल, मी पण शेर आहे. या किल्ल्याकडे वाकड्या नजरेने पाहण्याचे धाडस करू नका."

या किल्ल्यातील सिद्दी सरदारांनी हा किल्ला सदैव अजिंक्य राखला. संभाजी महाराजांनी तर हा किल्ला हस्तगत करण्यासाठी या किल्ल्यानजीक पाच सहा किलोमीटर अंतरावर पद्मदुर्ग नावाचा मजबूत किल्ला उभारला होता. पण तरीही मुरुडचा जंजिरा जिंकणे महाराजांना शक्य होऊ शकले नाही.

जंजिऱ्याची तटबंदी बुलंद आहे. त्याला सागराकडे ही एक दरवाजा आहे. असे १९ बुलंद बुरूज आहेत. दोन बुरुजांमधील अंतर ९० फुटांपेक्षा जास्त आहे. तटबंदीवर जाण्यासाठी जागोजाग पायऱ्या ठेवलेल्या आहेत. तटबंदीमध्ये कमानी आहेत. त्या कमानीमध्ये तोंड करून तोफा ठेवलेल्या आहेत. जंजिऱ्यावर ५९२ तोफा असल्याचा उल्लेख आहे. यातील कलालबांगडी, लांडाकासम व चावरी या तोफा आजही पाहायला मिळतात.

किल्ल्याच्या मध्यभागी सुरूलखानाचा भव्य वाडा आज पडक्या अवस्थेत आहे. पाण्याचे दोन मोठे तलाव आहेत. किल्ल्यामध्ये पूर्वी तीन मोहल्ले होते. यातील दोन मोहल्ले मुसलमानांचे व एक इतरांचा असे होते. पूर्वी किल्ल्यामध्ये मोठी वस्ती होती. राजाश्रय संपल्यानंतर ती सर्व वस्ती तेथून उठून गेली.

जंजिऱ्याच्या तटबंदीवरून विस्तृत प्रदेश दिसतो. यात समुद्रात बांधलेला कासा उर्फ पद्मदुर्ग व किनाऱ्यावरील सामराजगड हेही येथून दिसतात. ३३० वर्षे अभेद्य आणि अंजिक्य राहिलेल्या जंजिरे मेहरुब पाहताना इतिहासातील अनेक पर्वांचा आलेख आपल्या नजरेसमोरून तरळून जातो. थोडा इतिहासाचा अभ्यास करून जंजिऱ्याला भेट दिल्यास ती निश्चितच संस्मरणीय ठरेल.'

असा हा अजेय जंजिरा, २० सिद्दी सत्ताधीशांनंतर आलेल्या सिद्दी मुहमंदखान हा शेवटचा सिद्दी असताना, व त्या राज्याच्या स्थापनेनंतर ३३० वर्षांनी, म्हणजे ३ एप्रिल १९४८ रोजी ते राज्य भारतीय संघराज्यात विलीन झाले.`
  };

  const [audio, setAudio] = useState<HTMLAudioElement | null>(null);
  const [isPlaying, setIsPlaying] = useState(false);
  const [currentImageIndex, setCurrentImageIndex] = useState(0);  // Start with the first image

  useEffect(() => {
    // Automatically change the image every 5 seconds
    const imageInterval = setInterval(() => {
      setCurrentImageIndex((prevIndex) => (prevIndex + 1) % pageData.images.length);
    }, 5000); // 5000ms = 5 seconds

    return () => {
      clearInterval(imageInterval);  // Cleanup the interval on unmount
    };
  }, []);  // Empty dependency array to run only once on component mount

  useEffect(() => {
    return () => {
      if (audio) {
        audio.pause();
      }
    };
  }, [audio]);

  const handleAudioPlayback = () => {
  if (!pageData.audioUrl) return;

  if (audio) {
    audio.pause();
    setIsPlaying(false);
    setAudio(null);
  } else {
    const newAudio = new Audio(pageData.audioUrl);
    newAudio.play().then(() => setIsPlaying(true)).catch(err => console.log("Playback failed:", err));
    newAudio.addEventListener('ended', () => setIsPlaying(false));
    setAudio(newAudio);
  }
};

  return (
    <div className="max-w-1/2 mx-auto px-4 py-10 text-center bg-[#FAF3E0] min-h-screen flex flex-col items-center">
      <motion.h1 
        initial={{ opacity: 0, y: -20 }} 
        animate={{ opacity: 1, y: 0 }}
        className="text-xl font-medieval font-bold text-royal-800 mb-4"

      >
        {pageData.title}
      </motion.h1>
      
      <div>
        <p className="text-xs text-royal-500 font-serif">{pageData.description}</p>      </div>
      
      <motion.img 
        src={pageData.images[currentImageIndex]}  // Display the current image from the array
        alt={pageData.title} 
        className="w-full max-w-sm h-64 object-cover rounded-lg border-4 border-[#A67B5B] shadow-lg mt-4" 
        initial={{ opacity: 0 }} 
        animate={{ opacity: 1 }}
        transition={{ duration: 0.5 }}
      />
      
      {pageData.audioUrl && (
        <button 
          onClick={handleAudioPlayback} 
          className="mt-4 bg-[#8B4513] text-white px-5 py-2 rounded-lg hover:bg-[#704214] transition shadow-md text-md w-10/12 max-w-xs font-serif"
        >
          {isPlaying ? 'Stop Audio' : 'Play Audio Book'}
        </button>
      )}
      
      <div className="mt-6 text-left px-3 max-w-lg bg-royal-100 p-3 rounded-lg border-4 border-[#A67B5B] shadow-lg">
        <h2 className="text-lg font-semibold text-[#8B4513] mb-3 text-center font-serif">संपूर्ण माहिती</h2>
        <p className="text-[#5C4033] leading-tight text-justify text-[0.6rem] font-serif whitespace-pre-line">{pageData.fullInfo}</p>
      </div>
    </div>
  );
}

export default Page9;
